<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Collection - Furniture Pampanga</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <img src="assets/logo.png" alt="Furniture Pampanga Logo" class="logo-icon" />
                <span class="logo-text">Furniture Pampanga</span>
            </div>
            <nav class="nav">
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="catalog.html" class="active">Catalog</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="admin.html" style="color: var(--accent); font-weight: 600;">&#9881;&#65039;</a></li>
                </ul>
            </nav>
            <button class="hamburger" aria-label="Toggle menu">
                <span></span><span></span><span></span>
            </button>
        </div>
    </header>

    <main class="catalog-page" id="catalogMain">
        <div class="container">
            <h1 class="page-title">Our Collection</h1>

            <!-- Full category grid (shown when no subcategory in URL) -->
            <div class="product-categories-grid" id="categoriesGrid">
                <!-- Column 1 -->
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 12V19H19V12M5 12C5 9 7 7 10 7H14C17 7 19 9 19 12M5 12V9C5 7.9 5.9 7 7 7M19 12V9C19 7.9 18.1 7 17 7M7 7V5C7 3.9 7.9 3 9 3H15C16.1 3 17 3.9 17 5V7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=chair&sub=high-back" class="category-title-link"><h3 class="category-title">Chair</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=chair&sub=high-back" class="product-item"><span class="product-number">01</span><span class="product-name">Dining Chair (High-Back)</span></a>
                        <a href="catalog.html?category=chair&sub=low-back" class="product-item"><span class="product-number">02</span><span class="product-name">Dining Chair (Low-Back)</span></a>
                        <a href="catalog.html?category=chair&sub=upholstered" class="product-item"><span class="product-number">03</span><span class="product-name">Dining Chair (Upholstered)</span></a>
                        <a href="catalog.html?category=chair&sub=padded" class="product-item"><span class="product-number">04</span><span class="product-name">Padded Dining Chair</span></a>
                        <a href="catalog.html?category=chair&sub=solhiya" class="product-item"><span class="product-number">05</span><span class="product-name">Solhiya Dining Chair</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 7V19H21V7M3 7C3 5.9 3.9 5 5 5H19C20.1 5 21 5.9 21 7M3 7H21M5 11H19M5 15H19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=bed" class="category-title-link"><h3 class="category-title">Bed</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=bed" class="product-item"><span class="product-number">01</span><span class="product-name">Queen Sized Bed</span></a>
                        <a href="catalog.html?category=bed" class="product-item"><span class="product-number">02</span><span class="product-name">King Sized Bed</span></a>
                        <a href="catalog.html?category=bed" class="product-item"><span class="product-number">03</span><span class="product-name">Single Loft Bed</span></a>
                        <a href="catalog.html?category=bed" class="product-item"><span class="product-number">04</span><span class="product-name">Double Deck Bed</span></a>
                        <a href="catalog.html?category=bed" class="product-item"><span class="product-number">05</span><span class="product-name">Platform Bed</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 9V19H21V9M3 9C3 7.9 3.9 7 5 7H19C20.1 7 21 7.9 21 9M3 9H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=center-table" class="category-title-link"><h3 class="category-title">Center Table</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=center-table" class="product-item"><span class="product-number">01</span><span class="product-name">Square Coffee Table</span></a>
                        <a href="catalog.html?category=center-table" class="product-item"><span class="product-number">02</span><span class="product-name">Nesting Table Set</span></a>
                        <a href="catalog.html?category=center-table" class="product-item"><span class="product-number">03</span><span class="product-name">Marble Top Table</span></a>
                        <a href="catalog.html?category=center-table" class="product-item"><span class="product-number">04</span><span class="product-name">Oval Center Table</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 12V19H19V12M5 12C5 9 7 7 10 7H14C17 7 19 9 19 12M5 12V9C5 7.9 5.9 7 7 7M19 12V9C19 7.9 18.1 7 17 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=ottoman" class="category-title-link"><h3 class="category-title">Ottoman</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=ottoman" class="product-item"><span class="product-number">01</span><span class="product-name">Round Storage Ottoman</span></a>
                        <a href="catalog.html?category=ottoman" class="product-item"><span class="product-number">02</span><span class="product-name">Square Fabric Ottoman</span></a>
                        <a href="catalog.html?category=ottoman" class="product-item"><span class="product-number">03</span><span class="product-name">Leather Padded Ottoman</span></a>
                        <a href="catalog.html?category=ottoman" class="product-item"><span class="product-number">04</span><span class="product-name">Bench Ottoman</span></a>
                    </div>
                </div>
                <!-- Column 2 -->
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4H20V8H4V4ZM3 8H21L20 20H4L3 8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M8 8V20M16 8V20" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=table" class="category-title-link"><h3 class="category-title">Table</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=table" class="product-item"><span class="product-number">01</span><span class="product-name">Acacia Dining Table</span></a>
                        <a href="catalog.html?category=table" class="product-item"><span class="product-number">02</span><span class="product-name">Solid Wood Dining Table</span></a>
                        <a href="catalog.html?category=table" class="product-item"><span class="product-number">03</span><span class="product-name">Marble Dining Table</span></a>
                        <a href="catalog.html?category=table" class="product-item"><span class="product-number">04</span><span class="product-name">Glass Dining Table</span></a>
                        <a href="catalog.html?category=table" class="product-item"><span class="product-number">05</span><span class="product-name">Executive Desk</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 12V19H19V12M5 12C5 9 7 7 10 7H14C17 7 19 9 19 12M7 7V5C7 3.9 7.9 3 9 3H15C16.1 3 17 3.9 17 5V7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=accent-chair" class="category-title-link"><h3 class="category-title">Accent Chair</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=accent-chair" class="product-item"><span class="product-number">01</span><span class="product-name">Lounge Accent Chair</span></a>
                        <a href="catalog.html?category=accent-chair" class="product-item"><span class="product-number">02</span><span class="product-name">Wingback Chair</span></a>
                        <a href="catalog.html?category=accent-chair" class="product-item"><span class="product-number">03</span><span class="product-name">Barrel Chair</span></a>
                        <a href="catalog.html?category=accent-chair" class="product-item"><span class="product-number">04</span><span class="product-name">Slipper Chair</span></a>
                        <a href="catalog.html?category=accent-chair" class="product-item"><span class="product-number">05</span><span class="product-name">Solhiya Accent</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4H20V8H4V4ZM3 8H21L20 20H4L3 8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=console-table" class="category-title-link"><h3 class="category-title">Console Table</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=console-table" class="product-item"><span class="product-number">01</span><span class="product-name">Console with Drawers</span></a>
                        <a href="catalog.html?category=console-table" class="product-item"><span class="product-number">02</span><span class="product-name">Minimalist Entryway Table</span></a>
                        <a href="catalog.html?category=console-table" class="product-item"><span class="product-number">03</span><span class="product-name">Industrial Console</span></a>
                        <a href="catalog.html?category=console-table" class="product-item"><span class="product-number">04</span><span class="product-name">Glass Console</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 9V19H21V9M3 9C3 7.9 3.9 7 5 7H19C20.1 7 21 7.9 21 9M3 9H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=bench" class="category-title-link"><h3 class="category-title">Bench</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=bench" class="product-item"><span class="product-number">01</span><span class="product-name">Padded Entryway Bench</span></a>
                        <a href="catalog.html?category=bench" class="product-item"><span class="product-number">02</span><span class="product-name">Solid Wood Bench</span></a>
                        <a href="catalog.html?category=bench" class="product-item"><span class="product-number">03</span><span class="product-name">Outdoor Garden Bench</span></a>
                        <a href="catalog.html?category=bench" class="product-item"><span class="product-number">04</span><span class="product-name">Bedroom End Bench</span></a>
                    </div>
                </div>
                <!-- Column 3 -->
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 12V19H19V12M5 12C5 9 7 7 10 7H14C17 7 19 9 19 12M3 9H21M7 7V5C7 3.9 7.9 3 9 3H15C16.1 3 17 3.9 17 5V7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=sofa" class="category-title-link"><h3 class="category-title">Sofa</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=sofa" class="product-item"><span class="product-number">01</span><span class="product-name">Fully Upholstered Sofa</span></a>
                        <a href="catalog.html?category=sofa" class="product-item"><span class="product-number">02</span><span class="product-name">Wood-Frame Sofa</span></a>
                        <a href="catalog.html?category=sofa" class="product-item"><span class="product-number">03</span><span class="product-name">L-Shaped Sectional</span></a>
                        <a href="catalog.html?category=sofa" class="product-item"><span class="product-number">04</span><span class="product-name">Loveseat</span></a>
                        <a href="catalog.html?category=sofa" class="product-item"><span class="product-number">05</span><span class="product-name">Recliner Sofa</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4H20V8H4V4ZM3 8H21L20 20H4L3 8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=night-table" class="category-title-link"><h3 class="category-title">Night Table</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=night-table" class="product-item"><span class="product-number">01</span><span class="product-name">Accent Night Table</span></a>
                        <a href="catalog.html?category=night-table" class="product-item"><span class="product-number">02</span><span class="product-name">Square Side Table</span></a>
                        <a href="catalog.html?category=night-table" class="product-item"><span class="product-number">03</span><span class="product-name">Round End Table</span></a>
                        <a href="catalog.html?category=night-table" class="product-item"><span class="product-number">04</span><span class="product-name">Floating Nightstand</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 12V19H19V12M5 12C5 9 7 7 10 7H14C17 7 19 9 19 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=barstool" class="category-title-link"><h3 class="category-title">Barstool</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=barstool" class="product-item"><span class="product-number">01</span><span class="product-name">Wood Upholstered Stool</span></a>
                        <a href="catalog.html?category=barstool" class="product-item"><span class="product-number">02</span><span class="product-name">Industrial Metal Stool</span></a>
                        <a href="catalog.html?category=barstool" class="product-item"><span class="product-number">03</span><span class="product-name">Adjustable Barstool</span></a>
                        <a href="catalog.html?category=barstool" class="product-item"><span class="product-number">04</span><span class="product-name">Backless Stool</span></a>
                    </div>
                </div>
                <div class="product-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 4v16M4 8h4v12H4V8zm12 0h4v12h-4V8zM4 4h16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <a href="catalog.html?category=outdoor" class="category-title-link"><h3 class="category-title">Outdoor</h3></a>
                    </div>
                    <div class="category-products">
                        <a href="catalog.html?category=outdoor" class="product-item"><span class="product-number">01</span><span class="product-name">Patio Dining Set</span></a>
                        <a href="catalog.html?category=outdoor" class="product-item"><span class="product-number">02</span><span class="product-name">Wicker Lounge Chair</span></a>
                        <a href="catalog.html?category=outdoor" class="product-item"><span class="product-number">03</span><span class="product-name">Garden Side Table</span></a>
                        <a href="catalog.html?category=outdoor" class="product-item"><span class="product-number">04</span><span class="product-name">Poolside Lounger</span></a>
                    </div>
                </div>
            </div>

            <!-- Single category listing (e.g. Dining Chair High-Back) - hidden by default, shown via JS when URL has ?category=chair&sub=high-back -->
            <div class="category-listing-page" id="categoryListing" style="display: none;">
                <nav class="catalog-breadcrumb">
                    <a href="catalog.html">Shop All Collection &gt;</a>
                </nav>
                <h2 class="category-listing-title" id="categoryListingTitle">Dining Chair (High-Back Category)</h2>
                <div class="category-products-grid" id="categoryProductsGrid">
                    <a href="product.html?category=chair&name=Dining Chair (High-Back)&id=chair-01" class="category-product-card" data-listing-id="valen">
                        <div class="category-product-image"><img src="" alt="Valen" /></div>
                        <span class="category-product-number">01</span>
                        <h3 class="category-product-name">Valen</h3>
                        <p class="category-product-price">P13,000</p>
                    </a>
                    <a href="product.html?category=chair&name=Dining Chair (High-Back)&id=chair-01" class="category-product-card" data-listing-id="aurex">
                        <div class="category-product-image"><img src="" alt="Aurex" /></div>
                        <span class="category-product-number">02</span>
                        <h3 class="category-product-name">Aurex</h3>
                        <p class="category-product-price">P13,000</p>
                    </a>
                    <a href="product.html?category=chair&name=Dining Chair (High-Back)&id=chair-01" class="category-product-card" data-listing-id="serin">
                        <div class="category-product-image"><img src="" alt="Serin" /></div>
                        <span class="category-product-number">03</span>
                        <h3 class="category-product-name">Serin</h3>
                        <p class="category-product-price">P13,000</p>
                    </a>
                    <a href="product.html?category=chair&name=Dining Chair (High-Back)&id=chair-01" class="category-product-card" data-listing-id="calver">
                        <div class="category-product-image"><img src="" alt="Calver" /></div>
                        <span class="category-product-number">04</span>
                        <h3 class="category-product-name">Calver</h3>
                        <p class="category-product-price">P13,000</p>
                    </a>
                    <a href="product.html?category=chair&name=Dining Chair (High-Back)&id=chair-01" class="category-product-card" data-listing-id="elowen">
                        <div class="category-product-image"><img src="" alt="Elowen" /></div>
                        <span class="category-product-number">05</span>
                        <h3 class="category-product-name">Elowen</h3>
                        <p class="category-product-price">P13,000</p>
                    </a>
                    <a href="product.html?category=chair&name=Dining Chair (High-Back)&id=chair-01" class="category-product-card" data-listing-id="ravelle">
                        <div class="category-product-image"><img src="" alt="Ravelle" /></div>
                        <span class="category-product-number">06</span>
                        <h3 class="category-product-name">Ravelle</h3>
                        <p class="category-product-price">P13,000</p>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About Us</h3>
                    <ul>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms &amp; Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Follow Us</h3>
                    <div class="social-links">
                        <a href="https://www.facebook.com/furniturepampanga" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        </a>
                        <a href="https://www.instagram.com/furniturepampanga" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Furniture Pampanga. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="storage.js"></script>
    <script src="script.js"></script>
    <script>
        (function() {
            function runCatalog() {
            var params = new URLSearchParams(location.search);
            var category = params.get('category');
            var sub = params.get('sub');
            var grid = document.getElementById('categoriesGrid');
            var listing = document.getElementById('categoryListing');
            var titleEl = document.getElementById('categoryListingTitle');
            var productsGridEl = document.getElementById('categoryProductsGrid');
            var LISTING_PREFIX = 'furniturePampangaCatalogListing_';

            /* Lahat ng category (hindi lang chair) â€“ list ng products para sa listing page. listingKey = value sa admin dropdown. */
            var CATEGORY_PRODUCTS = {
                bed: [
                    { name: 'Queen Sized Bed', id: 'bed-01', listingKey: 'bed_queen' },
                    { name: 'King Sized Bed', id: 'bed-02', listingKey: 'bed_king' },
                    { name: 'Single Loft Bed', id: 'bed-03', listingKey: 'bed_singleloft' },
                    { name: 'Double Deck Bed', id: 'bed-04', listingKey: 'bed_doubledeck' },
                    { name: 'Platform Bed', id: 'bed-05', listingKey: 'bed_platform' }
                ],
                'center-table': [
                    { name: 'Square Coffee Table', id: 'center-01', listingKey: 'center_squarecoffee' },
                    { name: 'Nesting Table Set', id: 'center-02', listingKey: 'center_nesting' },
                    { name: 'Marble Top Table', id: 'center-03', listingKey: 'center_marbletop' },
                    { name: 'Oval Center Table', id: 'center-04', listingKey: 'center_oval' }
                ],
                ottoman: [
                    { name: 'Round Storage Ottoman', id: 'ottoman-01', listingKey: 'ottoman_roundstorage' },
                    { name: 'Square Fabric Ottoman', id: 'ottoman-02', listingKey: 'ottoman_squarefabric' },
                    { name: 'Leather Padded Ottoman', id: 'ottoman-03', listingKey: 'ottoman_leatherpadded' },
                    { name: 'Bench Ottoman', id: 'ottoman-04', listingKey: 'ottoman_bench' }
                ],
                table: [
                    { name: 'Acacia Dining Table', id: 'table-01', listingKey: 'table_acacia' },
                    { name: 'Solid Wood Dining Table', id: 'table-02', listingKey: 'table_solidwood' },
                    { name: 'Marble Dining Table', id: 'table-03', listingKey: 'table_marble' },
                    { name: 'Glass Dining Table', id: 'table-04', listingKey: 'table_glass' },
                    { name: 'Executive Desk', id: 'table-05', listingKey: 'table_executive' }
                ],
                'accent-chair': [
                    { name: 'Lounge Accent Chair', id: 'accent-01', listingKey: 'accent_lounge' },
                    { name: 'Wingback Chair', id: 'accent-02', listingKey: 'accent_wingback' },
                    { name: 'Barrel Chair', id: 'accent-03', listingKey: 'accent_barrel' },
                    { name: 'Slipper Chair', id: 'accent-04', listingKey: 'accent_slipper' },
                    { name: 'Solhiya Accent', id: 'accent-05', listingKey: 'accent_solhiya' }
                ],
                'console-table': [
                    { name: 'Console with Drawers', id: 'console-01', listingKey: 'console_drawers' },
                    { name: 'Minimalist Entryway Table', id: 'console-02', listingKey: 'console_minimalist' },
                    { name: 'Industrial Console', id: 'console-03', listingKey: 'console_industrial' },
                    { name: 'Glass Console', id: 'console-04', listingKey: 'console_glass' }
                ],
                bench: [
                    { name: 'Padded Entryway Bench', id: 'bench-01', listingKey: 'bench_paddedentry' },
                    { name: 'Solid Wood Bench', id: 'bench-02', listingKey: 'bench_solidwood' },
                    { name: 'Outdoor Garden Bench', id: 'bench-03', listingKey: 'bench_outdoorgarden' },
                    { name: 'Bedroom End Bench', id: 'bench-04', listingKey: 'bench_bedroomend' }
                ],
                sofa: [
                    { name: 'Fully Upholstered Sofa', id: 'sofa-01', listingKey: 'sofa_fullyupholstered' },
                    { name: 'Wood-Frame Sofa', id: 'sofa-02', listingKey: 'sofa_woodframe' },
                    { name: 'L-Shaped Sectional', id: 'sofa-03', listingKey: 'sofa_lshaped' },
                    { name: 'Loveseat', id: 'sofa-04', listingKey: 'sofa_loveseat' },
                    { name: 'Recliner Sofa', id: 'sofa-05', listingKey: 'sofa_recliner' }
                ],
                'night-table': [
                    { name: 'Accent Night Table', id: 'night-01', listingKey: 'night_accent' },
                    { name: 'Square Side Table', id: 'night-02', listingKey: 'night_squareside' },
                    { name: 'Round End Table', id: 'night-03', listingKey: 'night_roundend' },
                    { name: 'Floating Nightstand', id: 'night-04', listingKey: 'night_floating' }
                ],
                barstool: [
                    { name: 'Wood Upholstered Stool', id: 'barstool-01', listingKey: 'barstool_woodupholstered' },
                    { name: 'Industrial Metal Stool', id: 'barstool-02', listingKey: 'barstool_industrialmetal' },
                    { name: 'Adjustable Barstool', id: 'barstool-03', listingKey: 'barstool_adjustable' },
                    { name: 'Backless Stool', id: 'barstool-04', listingKey: 'barstool_backless' }
                ],
                outdoor: [
                    { name: 'Patio Dining Set', id: 'outdoor-01', listingKey: 'outdoor_patiodining' },
                    { name: 'Wicker Lounge Chair', id: 'outdoor-02', listingKey: 'outdoor_wickerlounge' },
                    { name: 'Garden Side Table', id: 'outdoor-03', listingKey: 'outdoor_gardenside' },
                    { name: 'Poolside Lounger', id: 'outdoor-04', listingKey: 'outdoor_poolside' }
                ]
            };

            function categoryLabel(slug) {
                return (slug || '').split('-').map(function(w) { return w.charAt(0).toUpperCase() + w.slice(1); }).join(' ');
            }

            if (category === 'chair' && sub) {
                var titles = {
                    'high-back': 'Dining Chair (High-Back Category)',
                    'low-back': 'Dining Chair (Low-Back Category)',
                    'upholstered': 'Dining Chair (Upholstered Category)',
                    'padded': 'Padded Dining Chair Category',
                    'solhiya': 'Solhiya Dining Chair Category'
                };
                if (grid) grid.style.display = 'none';
                if (listing) listing.style.display = 'block';
                if (titleEl && titles[sub]) titleEl.textContent = titles[sub];
                var subToKey = {
                    'high-back': 'furniturePampangaCatalogListing_chair_highback',
                    'low-back': 'furniturePampangaCatalogListing_chair_lowback',
                    'upholstered': 'furniturePampangaCatalogListing_chair_upholstered',
                    'padded': 'furniturePampangaCatalogListing_chair_padded',
                    'solhiya': 'furniturePampangaCatalogListing_chair_solhiya'
                };
                var storageKey = subToKey[sub];
                if (storageKey) {
                    try {
                        var raw = localStorage.getItem(storageKey);
                        var data = raw ? JSON.parse(raw) : {};
                        document.querySelectorAll('.category-product-card[data-listing-id]').forEach(function(card) {
                            var id = card.getAttribute('data-listing-id');
                            var url = (data[id] || '').trim();
                            var img = card.querySelector('.category-product-image img');
                            if (img && url) img.src = url;
                        });
                    } catch (e) {}
                }
                var baseName = (titles[sub] || '').replace(/\s*Category\s*$/, '').trim() || 'Dining Chair (High-Back)';
                document.querySelectorAll('.category-product-card[data-listing-id]').forEach(function(card) {
                    var variant = card.getAttribute('data-listing-id');
                    card.href = 'product.html?category=chair&name=' + encodeURIComponent(baseName) + '&id=chair-01&sub=' + encodeURIComponent(sub) + '&variant=' + encodeURIComponent(variant);
                });
            } else if (category && CATEGORY_PRODUCTS[category] && productsGridEl) {
                var products = CATEGORY_PRODUCTS[category];
                if (grid) grid.style.display = 'none';
                if (listing) listing.style.display = 'block';
                if (titleEl) titleEl.textContent = categoryLabel(category);
                productsGridEl.innerHTML = '';
                products.forEach(function(item, index) {
                    var num = String(index + 1).padStart(2, '0');
                    var imgUrl = '';
                    try {
                        var raw = localStorage.getItem(LISTING_PREFIX + item.listingKey);
                        var data = raw ? JSON.parse(raw) : {};
                        imgUrl = (data.valen || data[Object.keys(data)[0]] || '').trim();
                    } catch (e) {}
                    var card = document.createElement('a');
                    card.className = 'category-product-card';
                    card.href = 'product.html?category=' + encodeURIComponent(category) + '&name=' + encodeURIComponent(item.name) + '&id=' + encodeURIComponent(item.id);
                    card.innerHTML = '<div class="category-product-image"><img src="' + (imgUrl || '') + '" alt="' + (item.name || '').replace(/"/g, '&quot;') + '" /></div>' +
                        '<span class="category-product-number">' + num + '</span>' +
                        '<h3 class="category-product-name">' + (item.name || '').replace(/</g, '&lt;') + '</h3>' +
                        '<p class="category-product-price">P13,000</p>';
                    productsGridEl.appendChild(card);
                });
            }
            }
            if (window.runWhenStorageReady) {
                window.runWhenStorageReady(runCatalog);
            } else {
                runCatalog();
            }
        })();
    </script>
</body>
</html>
